"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[132],{4685:function(t,n,e){var a=e(1413),i=e(2808),r=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.Z)((0,a.Z)({url:n.startsWith("/api")?n:"/api/".concat(n),method:t},e))},o={get:function(t,n){return r("get",t,{params:n})},post:function(t,n){return r("post",t,{data:n})},put:function(t,n){return r("put",t,{data:n})},delete:function(t){return r("delete",t)},user:function(){return r("get","/api/user")},logout:function(){return r("get","/api/logout")},adminSummary:function(t){return r("get","/api/admin",{params:t})},adminRequests:function(t){return r("get","/api/admin/requests",{params:t})},adminJobs:function(t){return r("get","/api/admin/jobs",{params:t})},adminLogs:function(t){return r("get","/api/admin/logs",{params:t})},adminTrackingUsers:function(t){return r("get","/api/admin/tracking-users",{params:t})},adminRequestsByIp:function(t){return r("get","/api/admin/requests-by-ip",{params:t})},adminRequestsByCountry:function(t){return r("get","/api/admin/requests-by-country",{params:t})},lastNotices:function(){return r("get","/api/dashboard/last-notices")},users:function(t){return r("get","/api/users",{params:t})},userShow:function(t){return r("get","/api/users/".concat(t))},userStore:function(t){return r("post","/api/users",{data:t})},userUpdate:function(t,n){return r("put","/api/users/".concat(t),{data:n})},userDelete:function(t){return r("delete","/api/users/".concat(t))},usersAll:function(){return r("get","/api/users/all")},adsSources:function(t){return r("get","/api/ads-sources",{params:t})},adsSourceShow:function(t){return r("get","/api/ads-sources/".concat(t))},adsSourceStore:function(t){return r("post","/api/ads-sources",{data:t})},adsSourceUpdate:function(t,n){return r("put","/api/ads-sources/".concat(t),{data:n})},adsSourceDelete:function(t){return r("delete","/api/ads-sources/".concat(t))},integrationsFbCapi:function(t){return r("get","/api/integrations/fb-capi",{params:t})},integrationFbCapiShow:function(t){return r("get","/api/integrations/fb-capi/".concat(t))},integrationFbCapiStore:function(t){return r("post","/api/integrations/fb-capi",{data:t})},integrationFbCapiUpdate:function(t,n){return r("put","/api/integrations/fb-capi/".concat(t),{data:n})},integrationFbCapiDelete:function(t){return r("delete","/api/integrations/fb-capi/".concat(t))},integrationsTiktok:function(t){return r("get","/api/integrations/tiktok",{params:t})},integrationTiktokShow:function(t){return r("get","/api/integrations/tiktok/".concat(t))},integrationTiktokStore:function(t){return r("post","/api/integrations/tiktok",{data:t})},integrationTiktokUpdate:function(t,n){return r("put","/api/integrations/tiktok/".concat(t),{data:n})},integrationTiktokDelete:function(t){return r("delete","/api/integrations/tiktok/".concat(t))},integrationsX:function(t){return r("get","/api/integrations/x",{params:t})},integrationXShow:function(t){return r("get","/api/integrations/x/".concat(t))},integrationXStore:function(t){return r("post","/api/integrations/x",{data:t})},integrationXUpdate:function(t,n){return r("put","/api/integrations/x/".concat(t),{data:n})},integrationXDelete:function(t){return r("delete","/api/integrations/x/".concat(t))},integrationsGadsConversions:function(t){return r("get","/api/integrations/gads-conversions",{params:t})},integrationGadsConversionsShow:function(t){return r("get","/api/integrations/gads-conversions/".concat(t))},integrationGadsConversionsStore:function(t){return r("post","/api/integrations/gads-conversions",{data:t})},integrationGadsConversionsUpdate:function(t,n){return r("put","/api/integrations/gads-conversions/".concat(t),{data:n})},integrationGadsConversionsDelete:function(t){return r("delete","/api/integrations/gads-conversions/".concat(t))},integrationsGoogleSheets:function(t){return r("get","/api/integrations/google-sheets",{params:t})},integrationGoogleSheetsShow:function(t){return r("get","/api/integrations/google-sheets/".concat(t))},integrationGoogleSheetsStore:function(t){return r("post","/api/integrations/google-sheets",{data:t})},integrationGoogleSheetsUpdate:function(t,n){return r("put","/api/integrations/google-sheets/".concat(t),{data:n})},integrationGoogleSheetsDelete:function(t){return r("delete","/api/integrations/google-sheets/".concat(t))},integrationsScriptBundles:function(t){return r("get","/api/integrations/script-bundles",{params:t})},integrationScriptBundlesShow:function(t){return r("get","/api/integrations/script-bundles/".concat(t))},integrationScriptBundlesStore:function(t,n){return n?r("put","/api/integrations/script-bundles/".concat(n),{data:t}):r("post","/api/integrations/script-bundles",{data:t})},integrationScriptBundlesUpdate:function(t,n){return r("put","/api/integrations/script-bundles/".concat(t),{data:n})},integrationScriptBundlesDelete:function(t){return r("delete","/api/integrations/script-bundles/".concat(t))},integrationScriptBundlesIntegrationsAccounts:function(){return r("get","/api/integrations/script-bundles/integrations-accounts")},integrationScriptBundlesJsContent:function(){return r("get","/api/integrations/script-bundles/js-content")},integrationEventsCount:function(t){return r("get","/api/integrations/events-".concat(t))},integrationsFbAdsBalances:function(t){return r("get","/api/integrations/fb-ads-balances",{params:t})},integrationFbAdsBalancesShow:function(t){return r("get","/api/integrations/fb-ads-balances/".concat(t))},integrationFbAdsBalancesStore:function(t){return r("post","/api/integrations/fb-ads-balances",{data:t})},integrationFbAdsBalancesUpdate:function(t,n){return r("put","/api/integrations/fb-ads-balances/".concat(t),{data:n})},integrationFbAdsBalancesDelete:function(t){return r("delete","/api/integrations/fb-ads-balances/".concat(t))},integrationsCsdProjects:function(t){return r("get","/api/integrations/csd-projects",{params:t})},integrationCsdProjectsShow:function(t){return r("get","/api/integrations/csd-projects/".concat(t))},integrationCsdProjectsStore:function(t){return r("post","/api/integrations/csd-projects",{data:t})},integrationCsdProjectsUpdate:function(t,n){return r("put","/api/integrations/csd-projects/".concat(t),{data:n})},integrationCsdProjectsDelete:function(t){return r("delete","/api/integrations/csd-projects/".concat(t))},integrationEvents:function(t,n){return r("get","/api/integrations/events-".concat(t,"/").concat(n))},integrationEventsCountByEvents:function(t,n,e){return r("get","/api/integrations/events-".concat(t,"/").concat(n,"/countByEvents"),{params:e})},integrationEventsCountByDaysAndEvents:function(t,n,e){return r("get","/api/integrations/events-".concat(t,"/").concat(n,"/countByDaysAndEvents"),{params:e})},integrationEventsList:function(t,n,e){return r("get","/api/integrations/events-".concat(t,"/").concat(n,"/list"),{params:e})}};n.Z=o},9132:function(t,n,e){e.r(n),e.d(n,{AdminSummary:function(){return m}});var a=e(9439),i=e(2791),r=e(43),o=e(6106),s=e(914),c=e(6473),u=e(1429),g=e(2144),p=e(3496),d=e(4685),l=e(184),f=function(){var t=new Date;return t.setDate(t.getDate()-7),t.toISOString().slice(0,10)},m=function(){var t,n,e,m,b,h,v=(0,i.useState)(!0),S=(0,a.Z)(v,2),k=S[0],j=S[1],x=(0,i.useState)(null),y=(0,a.Z)(x,2),C=y[0],B=y[1];if((0,i.useEffect)((function(){d.Z.adminSummary({from:f(),to:(new Date).toISOString().slice(0,10)}).then(B).catch((function(){return B(null)})).finally((function(){return j(!1)}))}),[]),k)return(0,l.jsx)(r.Z,{size:"large",style:{display:"block",margin:"48px auto"}});var Z=null!==(t=null===C||void 0===C?void 0:C.requests)&&void 0!==t?t:{},w=null!==(n=null===C||void 0===C?void 0:C.jobs)&&void 0!==n?n:{},D=null!==(e=Z.data)&&void 0!==e?e:[],U=null!==(m=w.data)&&void 0!==m?m:[],A={chart:{type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",width:2},xaxis:{categories:D.map((function(t){return t.time_step||""}))},colors:["#3e82f7","#e74c3c"],dataLabels:{enabled:!1}},E=[{name:"\u0412\u0441\u044c\u043e\u0433\u043e",data:D.map((function(t){return t.all||0}))},{name:"\u041f\u043e\u043c\u0438\u043b\u043a\u0438",data:D.map((function(t){return t.error||0}))}],F={chart:{type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,borderRadius:4}},xaxis:{categories:U.map((function(t){return t.name||""}))},colors:["#52c41a"],dataLabels:{enabled:!0}},G=[{name:"Jobs",data:U.map((function(t){return t.count||0}))}];return(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.Z,{gutter:[16,16],style:{marginBottom:24},children:[(0,l.jsx)(s.Z,{span:12,children:(0,l.jsx)(c.Z,{className:"card-elevated",children:(0,l.jsx)(u.Z,{title:"\u0417\u0430\u043f\u0438\u0442\u0438 (\u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434)",value:null!==(b=Z.count)&&void 0!==b?b:0})})}),(0,l.jsx)(s.Z,{span:12,children:(0,l.jsx)(c.Z,{className:"card-elevated",children:(0,l.jsx)(u.Z,{title:"Jobs (\u0437\u0430 \u043f\u0435\u0440\u0456\u043e\u0434)",value:null!==(h=w.count)&&void 0!==h?h:0})})})]}),D.length>0&&(0,l.jsx)(c.Z,{title:"\u0413\u0440\u0430\u0444\u0456\u043a \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u043f\u043e \u0447\u0430\u0441\u0443",className:"card-elevated",style:{marginBottom:24},children:(0,l.jsx)(p.Z,{options:A,series:E,type:"line",height:300})}),U.length>0&&(0,l.jsx)(c.Z,{title:"Jobs \u043f\u043e \u0447\u0435\u0440\u0433\u0430\u0445",className:"card-elevated",style:{marginBottom:24},children:(0,l.jsx)(p.Z,{options:F,series:G,type:"bar",height:Math.max(200,36*U.length)})}),U.length>0&&(0,l.jsx)(c.Z,{title:"\u0422\u0430\u0431\u043b\u0438\u0446\u044f \u043f\u043e \u0447\u0435\u0440\u0433\u0430\u0445",className:"card-elevated",children:(0,l.jsx)(g.Z,{size:"small",rowKey:"name",dataSource:U,columns:[{title:"\u0427\u0435\u0440\u0433\u0430",dataIndex:"name",key:"name"},{title:"\u0412\u0441\u044c\u043e\u0433\u043e",dataIndex:"count",key:"count",width:100}],pagination:!1})})]})};n.default=m}}]);
//# sourceMappingURL=132.75c848e0.chunk.js.map