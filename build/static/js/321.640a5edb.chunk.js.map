{"version":3,"file":"static/js/321.640a5edb.chunk.js","mappings":"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","sources":["components/shared-components/ModalConfirmDelete.js","views/app-views/integrations/ScriptBundleFormModal.js","views/app-views/integrations/ScriptBundles.js","../node_modules/@ant-design/icons-svg/es/asn/BarChartOutlined.js","../node_modules/@ant-design/icons/es/icons/BarChartOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LinkOutlined.js","../node_modules/@ant-design/icons/es/icons/LinkOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/ReloadOutlined.js","../node_modules/@ant-design/icons/es/icons/ReloadOutlined.js"],"sourcesContent":["import React from 'react';\nimport { Modal, Button } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\n/**\n * Модальне підтвердження видалення (аналог ModalDelete зі старого шаблону).\n * onConfirm: () => Promise|void, після успіху викликається onSuccess.\n */\nexport const ModalConfirmDelete = ({\n  visible,\n  onCancel,\n  onConfirm,\n  onSuccess,\n  title = 'Видалити?',\n  content = 'Ви впевнені, що хочете видалити цей запис? Цю дію не можна скасувати.',\n  okText = 'Видалити',\n  okButtonProps = { danger: true },\n}) => {\n  const [loading, setLoading] = React.useState(false);\n\n  const handleOk = async () => {\n    setLoading(true);\n    try {\n      await onConfirm();\n      onSuccess?.();\n      onCancel?.();\n    } catch (e) {\n      // notification вже в interceptor або можна показати тут\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Modal\n      open={visible}\n      title={title}\n      okText={okText}\n      okButtonProps={okButtonProps}\n      cancelText=\"Скасувати\"\n      onCancel={onCancel}\n      onOk={handleOk}\n      confirmLoading={loading}\n      destroyOnClose\n    >\n      <p>{content}</p>\n    </Modal>\n  );\n};\n\n/**\n * Підтвердження видалення (Modal.confirm).\n */\nexport const confirmDelete = (onConfirm, options = {}) => {\n  Modal.confirm({\n    title: options.title || 'Видалити?',\n    icon: <ExclamationCircleOutlined />,\n    content: options.content || 'Цю дію не можна скасувати.',\n    okText: 'Видалити',\n    okType: 'danger',\n    cancelText: 'Скасувати',\n    onOk: onConfirm,\n  });\n};\n\nexport default ModalConfirmDelete;\n","import React, { useEffect, useState } from 'react';\nimport { Modal, Form, Input, Switch, Select, Spin } from 'antd';\nimport MedianApi from 'services/MedianApi';\n\nconst UTM_OPTIONS = [\n  { value: 'default', label: 'Звичайний' },\n  { value: 'first-last', label: 'First last utms' },\n];\n\nconst firstUpperCase = (str) => (str ? String(str).charAt(0).toUpperCase() + String(str).slice(1) : '');\n\nexport const ScriptBundleFormModal = ({ visible, onClose, editItem, onSuccess }) => {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [accounts, setAccounts] = useState(null);\n  const isEdit = !!editItem?.id;\n\n  useEffect(() => {\n    if (visible) {\n      MedianApi.integrationScriptBundlesIntegrationsAccounts()\n        .then((res) => setAccounts(res || {}))\n        .catch(() => setAccounts({}));\n    }\n  }, [visible]);\n\n  useEffect(() => {\n    if (visible && editItem) {\n      form.setFieldsValue({\n        name: editItem.name ?? '',\n        active: editItem.active !== false && editItem.active !== 0,\n        utm: editItem.utm || undefined,\n        integrations: editItem.integrations || {},\n      });\n    } else if (visible && !editItem) {\n      form.setFieldsValue({ name: '', active: true, utm: undefined, integrations: {} });\n    }\n  }, [visible, editItem, form]);\n\n  const handleSubmit = async () => {\n    try {\n      const values = await form.validateFields();\n      const integrations = values.integrations || {};\n      Object.keys(integrations).forEach((k) => {\n        if (integrations[k] == null || integrations[k] === '') delete integrations[k];\n      });\n      setLoading(true);\n      await MedianApi.integrationScriptBundlesStore(\n        { name: values.name, active: values.active, utm: values.utm, integrations },\n        editItem?.id\n      );\n      onSuccess?.();\n      onClose();\n    } catch (e) {\n      if (e.errorFields) return;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const integrationKeys = accounts ? Object.keys(accounts) : [];\n\n  return (\n    <Modal\n      open={visible}\n      title={isEdit ? 'Редагувати бандл' : 'Додати бандл'}\n      okText={isEdit ? 'Зберегти' : 'Додати'}\n      cancelText=\"Скасувати\"\n      onCancel={onClose}\n      onOk={handleSubmit}\n      confirmLoading={loading}\n      destroyOnClose\n      width={480}\n    >\n      <Form form={form} layout=\"vertical\">\n        <Form.Item name=\"name\" label=\"Назва\" rules={[{ required: true, message: 'Укажіть назву' }]}>\n          <Input placeholder=\"Назва бандла\" />\n        </Form.Item>\n        {integrationKeys.length > 0 && (\n          <Form.Item label=\"Інтеграції\" style={{ marginBottom: 8 }}>\n            {integrationKeys.map((key) => (\n              <Form.Item key={key} name={['integrations', key]} label={firstUpperCase(key)} style={{ marginBottom: 8 }}>\n                <Select\n                  allowClear\n                  placeholder={`Оберіть ${firstUpperCase(key)}`}\n                  options={(accounts[key] || []).map((a) => ({ label: `#${a.id} ${a.name}`, value: a.id }))}\n                />\n              </Form.Item>\n            ))}\n          </Form.Item>\n        )}\n        <Form.Item name=\"utm\" label=\"UTM\">\n          <Select allowClear options={UTM_OPTIONS} placeholder=\"Звичайний\" />\n        </Form.Item>\n        <Form.Item name=\"active\" label=\"Увімкнено\" valuePropName=\"checked\">\n          <Switch />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default ScriptBundleFormModal;\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, Table, Spin, Button, Space, Tag, Typography, Modal, Input } from 'antd';\nimport { PlusOutlined, EditOutlined, DeleteOutlined, ReloadOutlined, LinkOutlined, BarChartOutlined } from '@ant-design/icons';\nimport MedianApi from 'services/MedianApi';\nimport { APP_PREFIX_PATH, API_BASE_URL } from 'configs/AppConfig';\nimport { confirmDelete } from 'components/shared-components/ModalConfirmDelete';\nimport ScriptBundleFormModal from './ScriptBundleFormModal';\n\nconst INTEGRATION_LINKS = {\n  facebookPixel: { path: 'fb-capi', label: 'Facebook CAPI' },\n  googleAdsAccount: { path: 'gads-conversions', label: 'Google Ads' },\n  googleSheetAccount: { path: 'google-sheets', label: 'Google Sheets' },\n  xPixel: { path: 'x', label: 'X' },\n  tikTokPixel: { path: 'tiktok', label: 'TikTok' },\n};\n\nconst UTM_LABELS = { default: 'Звичайний', 'first-last': 'First Last' };\n\nconst scriptBase = (API_BASE_URL || '').replace(/\\/api\\/?$/, '');\n\nexport const ScriptBundles = () => {\n  const navigate = useNavigate();\n  const [data, setData] = useState({ data: [], total: 0 });\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [connectionItem, setConnectionItem] = useState(null);\n  const [jsContent, setJsContent] = useState('');\n  const [eventsCountByPlatform, setEventsCountByPlatform] = useState({});\n  const [statsLoading, setStatsLoading] = useState(false);\n\n  const load = (p = page) => {\n    setLoading(true);\n    MedianApi.integrationsScriptBundles({ page: p, per_page: 20 })\n      .then((res) =>\n        setData({\n          data: Array.isArray(res?.data) ? res.data : [],\n          total: res?.total ?? 0,\n        })\n      )\n      .catch(() => setData({ data: [], total: 0 }))\n      .finally(() => setLoading(false));\n  };\n\n  useEffect(() => load(), [page]);\n\n  useEffect(() => {\n    if (connectionItem) {\n      MedianApi.integrationScriptBundlesJsContent()\n        .then((r) => setJsContent(r?.data || ''))\n        .catch(() => setJsContent(''));\n    }\n  }, [connectionItem]);\n\n  useEffect(() => {\n    setStatsLoading(true);\n    Promise.all([\n      MedianApi.integrationEventsCount('fb').catch(() => ({})),\n      MedianApi.integrationEventsCount('tiktok').catch(() => ({})),\n      MedianApi.integrationEventsCount('x').catch(() => ({})),\n      MedianApi.integrationEventsCount('gads').catch(() => ({})),\n    ])\n      .then(([fb, tiktok, x, gads]) =>\n        setEventsCountByPlatform({\n          fb: fb || {},\n          tiktok: tiktok || {},\n          x: x || {},\n          gads: gads || {},\n        })\n      )\n      .catch(() => setEventsCountByPlatform({}))\n      .finally(() => setStatsLoading(false));\n  }, []);\n\n  const handleRefreshScript = (record, e) => {\n    e?.stopPropagation?.();\n    MedianApi.integrationScriptBundlesStore({}, record.id).then(() => load());\n  };\n\n  const handleDelete = (record, e) => {\n    e?.stopPropagation?.();\n    confirmDelete(\n      async () => {\n        await MedianApi.integrationScriptBundlesDelete(record.id);\n        load(1);\n        if (page !== 1) setPage(1);\n      },\n      { content: 'Ви дійсно хочете видалити цей бандл?' }\n    );\n  };\n\n  const integrationsColumn = (integrations) => {\n    if (!integrations || typeof integrations !== 'object') return '—';\n    return (\n      <Space wrap size={[4, 4]}>\n        {Object.entries(integrations).map(([key, id]) => {\n          const link = INTEGRATION_LINKS[key];\n          if (!link || id == null) return <Tag key={key}>{key}</Tag>;\n          return (\n            <Tag key={key}>\n              <a\n                href=\"#\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  navigate(`${APP_PREFIX_PATH}/integrations/${link.path}/${id}`);\n                }}\n              >\n                {link.label} #{id}\n              </a>\n            </Tag>\n          );\n        })}\n      </Space>\n    );\n  };\n\n  const columns = [\n    { title: 'ID', dataIndex: 'id', key: 'id', width: 70 },\n    {\n      title: 'Назва',\n      dataIndex: 'name',\n      key: 'name',\n      render: (name, record) => (\n        <Typography.Text style={record.active ? {} : { color: 'var(--color-error)' }}>\n          {name || '—'}\n          {!record.active && ' (не активний)'}\n        </Typography.Text>\n      ),\n    },\n    { title: 'Інтеграції', dataIndex: 'integrations', key: 'integrations', render: integrationsColumn },\n    {\n      title: 'UTM',\n      dataIndex: 'utm',\n      key: 'utm',\n      width: 120,\n      render: (v) => UTM_LABELS[v] || '—',\n    },\n    {\n      title: '',\n      key: 'actions',\n      width: 180,\n      render: (_, record) => (\n        <Space onClick={(e) => e.stopPropagation()}>\n          <Button\n            type=\"text\"\n            size=\"small\"\n            icon={<ReloadOutlined />}\n            title=\"Оновити скрипт\"\n            onClick={(e) => handleRefreshScript(record, e)}\n          />\n          <Button\n            type=\"text\"\n            size=\"small\"\n            icon={<EditOutlined />}\n            onClick={() => {\n              setEditItem(record);\n              setModalVisible(true);\n            }}\n          />\n          <Button\n            type=\"text\"\n            size=\"small\"\n            icon={<LinkOutlined />}\n            onClick={(e) => {\n              e.stopPropagation();\n              setConnectionItem(record);\n            }}\n          >\n            Підключення\n          </Button>\n          <Button type=\"text\" size=\"small\" danger icon={<DeleteOutlined />} onClick={(e) => handleDelete(record, e)} />\n        </Space>\n      ),\n    },\n  ];\n\n  const scriptUrl = connectionItem && scriptBase ? `${scriptBase}/partners/js/bundle-${connectionItem.id}.js` : '';\n  const callbackUrl = connectionItem && scriptBase ? `${scriptBase}/partners/callback/${connectionItem.id}` : '';\n  const snippet = jsContent && connectionItem ? jsContent.replace('id', String(connectionItem.id)) : '';\n\n  const totalEvents = (obj) => (obj && typeof obj === 'object' ? Object.values(obj).reduce((a, b) => a + (b || 0), 0) : 0);\n\n  return (\n    <>\n      {Object.keys(eventsCountByPlatform).length > 0 && (\n        <Card\n          title={\n            <Space>\n              <BarChartOutlined />\n              Статистика по CAPI (події по платформах)\n            </Space>\n          }\n          className=\"card-elevated\"\n          style={{ marginBottom: 24 }}\n        >\n          <Spin spinning={statsLoading}>\n            <Space wrap size=\"middle\">\n              <Typography.Text strong>Facebook CAPI:</Typography.Text>\n              <Typography.Text>{totalEvents(eventsCountByPlatform.fb)} подій</Typography.Text>\n              <Typography.Text type=\"secondary\">|</Typography.Text>\n              <Typography.Text strong>TikTok:</Typography.Text>\n              <Typography.Text>{totalEvents(eventsCountByPlatform.tiktok)} подій</Typography.Text>\n              <Typography.Text type=\"secondary\">|</Typography.Text>\n              <Typography.Text strong>X (Twitter):</Typography.Text>\n              <Typography.Text>{totalEvents(eventsCountByPlatform.x)} подій</Typography.Text>\n              <Typography.Text type=\"secondary\">|</Typography.Text>\n              <Typography.Text strong>Google Ads:</Typography.Text>\n              <Typography.Text>{totalEvents(eventsCountByPlatform.gads)} подій</Typography.Text>\n            </Space>\n          </Spin>\n        </Card>\n      )}\n\n      <Card\n        title={`Бандли скриптів інтеграцій (${data.total})`}\n        extra={\n          <Button\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={() => {\n              setEditItem(null);\n              setModalVisible(true);\n            }}\n          >\n            Додати\n          </Button>\n        }\n      >\n        <Spin spinning={loading}>\n          <Table\n            rowKey=\"id\"\n            columns={columns}\n            dataSource={data.data}\n            onRow={(record) => ({\n              style: { cursor: 'pointer' },\n              onClick: () => navigate(`${APP_PREFIX_PATH}/integrations/script-bundles/${record.id}`),\n            })}\n            pagination={{\n              total: data.total,\n              pageSize: 20,\n              current: page,\n              onChange: setPage,\n            }}\n          />\n        </Spin>\n      </Card>\n\n      <ScriptBundleFormModal\n        visible={modalVisible}\n        onClose={() => {\n          setModalVisible(false);\n          setEditItem(null);\n        }}\n        editItem={editItem}\n        onSuccess={() => {\n          load(1);\n          if (page !== 1) setPage(1);\n        }}\n      />\n\n      <Modal\n        open={!!connectionItem}\n        onCancel={() => setConnectionItem(null)}\n        title=\"Підключення інтеграції\"\n        footer={null}\n        width={560}\n      >\n        {connectionItem && (\n          <>\n            <p>Розмістити скрипт в блоці head:</p>\n            <Typography.Link href={scriptUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {scriptUrl}\n            </Typography.Link>\n            <Input.TextArea\n              readOnly\n              value={snippet || (scriptUrl ? `<script src=\"${scriptUrl}\"></script>` : '')}\n              rows={3}\n              style={{ marginTop: 8, fontFamily: 'monospace', fontSize: 12 }}\n            />\n            <p style={{ marginTop: 16 }}>Postback/Webhook відправляти на посилання:</p>\n            <Input.TextArea readOnly value={callbackUrl} rows={1} style={{ fontFamily: 'monospace', fontSize: 12 }} />\n          </>\n        )}\n      </Modal>\n    </>\n  );\n};\nexport default ScriptBundles;\n","// This icon file is generated automatically.\nvar BarChartOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"bar-chart\", \"theme\": \"outlined\" };\nexport default BarChartOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport BarChartOutlinedSvg from \"@ant-design/icons-svg/es/asn/BarChartOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar BarChartOutlined = function BarChartOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: BarChartOutlinedSvg\n  }));\n};\nBarChartOutlined.displayName = 'BarChartOutlined';\nexport default /*#__PURE__*/React.forwardRef(BarChartOutlined);","// This icon file is generated automatically.\nvar LinkOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\" } }] }, \"name\": \"link\", \"theme\": \"outlined\" };\nexport default LinkOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LinkOutlinedSvg from \"@ant-design/icons-svg/es/asn/LinkOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LinkOutlined = function LinkOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LinkOutlinedSvg\n  }));\n};\nLinkOutlined.displayName = 'LinkOutlined';\nexport default /*#__PURE__*/React.forwardRef(LinkOutlined);","// This icon file is generated automatically.\nvar ReloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z\" } }] }, \"name\": \"reload\", \"theme\": \"outlined\" };\nexport default ReloadOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ReloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/ReloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ReloadOutlined = function ReloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ReloadOutlinedSvg\n  }));\n};\nReloadOutlined.displayName = 'ReloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(ReloadOutlined);"],"names":["confirmDelete","onConfirm","options","Modal","title","icon","content","okText","okType","cancelText","onOk","UTM_OPTIONS","value","label","firstUpperCase","str","String","charAt","toUpperCase","slice","visible","onClose","editItem","onSuccess","Form","form","useState","loading","setLoading","accounts","setAccounts","isEdit","id","useEffect","MedianApi","then","res","catch","setFieldsValue","name","active","utm","undefined","integrations","handleSubmit","validateFields","values","Object","keys","forEach","k","errorFields","integrationKeys","open","onCancel","confirmLoading","destroyOnClose","width","layout","rules","required","message","placeholder","length","style","marginBottom","map","key","allowClear","a","valuePropName","INTEGRATION_LINKS","facebookPixel","path","googleAdsAccount","googleSheetAccount","xPixel","tikTokPixel","UTM_LABELS","default","scriptBase","API_BASE_URL","replace","ScriptBundles","navigate","useNavigate","data","total","setData","page","setPage","modalVisible","setModalVisible","setEditItem","connectionItem","setConnectionItem","jsContent","setJsContent","eventsCountByPlatform","setEventsCountByPlatform","statsLoading","setStatsLoading","load","p","per_page","Array","isArray","finally","r","Promise","all","fb","tiktok","x","gads","columns","dataIndex","render","record","color","wrap","size","entries","link","href","onClick","e","preventDefault","stopPropagation","APP_PREFIX_PATH","v","_","type","handleRefreshScript","danger","handleDelete","scriptUrl","callbackUrl","snippet","totalEvents","obj","reduce","b","className","spinning","strong","extra","rowKey","dataSource","onRow","cursor","pagination","pageSize","current","onChange","footer","target","rel","readOnly","rows","marginTop","fontFamily","fontSize","BarChartOutlined","props","ref","React","AntdIcon","_objectSpread","BarChartOutlinedSvg","displayName","LinkOutlined","LinkOutlinedSvg","ReloadOutlined","ReloadOutlinedSvg"],"sourceRoot":""}